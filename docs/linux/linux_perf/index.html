<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-linux/linux_perf">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="alternate" type="application/rss+xml" href="/cloud/blog/rss.xml" title="JS Cloud notes RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/cloud/blog/atom.xml" title="JS Cloud notes Atom Feed"><title data-rh="true">Performance | JS Cloud notes</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://junsulee75.github.io/cloud/docs/linux/linux_perf"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Performance | JS Cloud notes"><meta data-rh="true" name="description" content="Blue Diamond related things"><meta data-rh="true" property="og:description" content="Blue Diamond related things"><link data-rh="true" rel="icon" href="/cloud/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://junsulee75.github.io/cloud/docs/linux/linux_perf"><link data-rh="true" rel="alternate" href="https://junsulee75.github.io/cloud/docs/linux/linux_perf" hreflang="en"><link data-rh="true" rel="alternate" href="https://junsulee75.github.io/cloud/docs/linux/linux_perf" hreflang="x-default"><link rel="stylesheet" href="/cloud/assets/css/styles.7a7fd3ca.css">
<link rel="preload" href="/cloud/assets/js/runtime~main.20cc33de.js" as="script">
<link rel="preload" href="/cloud/assets/js/main.c623a6f8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cloud/"><div class="navbar__logo"><img src="/cloud/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/cloud/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">JS cloud notes</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cloud/docs/intro">Notes</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud/docs/intro">Readme</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cloud/docs/Db2/ps_AWS">Db2</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud/docs/docker">Docker notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud/docs/kube">Kubenetes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/cloud/docs/linux/linux_misc">linux</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud/docs/linux/linux_misc">Misc (Linux)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cloud/docs/linux/linux_perf">Performance</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud/docs/minikube">minikube</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud/docs/oc">Openshift</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud/docs/podman">podman</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cloud/docs/tutorial-basics/create-a-page">999.MISC</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cloud/docs/tutorial-extras/manage-docs-versions">999.Extras</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cloud/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">linux</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Performance</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Performance</h1><p>Blue Diamond related things</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contents">Contents<a class="hash-link" href="#contents" title="Direct link to heading">​</a></h2><ul><li><a href="#performance">Performance</a><ul><li><a href="#contents">Contents</a></li><li><a href="#resources-and-links">Resources and links</a></li><li><a href="#commands">commands</a><ul><li><a href="#accessbility--and-usability">Accessbility  and usability</a><ul><li><a href="#git">Git</a></li></ul></li></ul></li><li><a href="#readers-comments">Reader&#x27;s comments</a><ul><li><a href="#replay-timeline">Replay timeline</a></li></ul></li><li><a href="#operations">Operations</a><ul><li><a href="#git-on-blue-diamond">git on blue diamond</a><ul><li><a href="#ppcle-bapy7602">ppcle <code>bapy7602</code></a></li></ul></li><li><a href="#session-2-20220303-scenario-2-os-benny">Session #2. 20220303 #scenario 2 #OS (Benny)</a></li><li><a href="#session-3-20220303-scenario-3-os-benny">Session #3. 20220303 scenario 3 #OS (Benny)</a></li></ul></li><li><a href="#ap-team-hands-on-note">AP team hands-on note</a><ul><li><a href="#situation-1--os">Situation 1 : OS</a><ul><li><a href="#scenario-1-system-is-pagingswapping">Scenario #1 System is Paging/Swapping</a></li><li><a href="#webex-chat-backup">Webex chat backup</a></li><li><a href="#scenario-2-high-user-cpu">Scenario #2 High User CPU</a></li></ul></li></ul></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources-and-links">Resources and links<a class="hash-link" href="#resources-and-links" title="Direct link to heading">​</a></h2><p><a href="https://bdam.svl.ibm.com/AM/" target="_blank" rel="noopener noreferrer">BD access management</a>    =&gt; Log in by intranet id / pw.<br>
<a href="https://oneticket.devit.ibm.com" target="_blank" rel="noopener noreferrer">oneticket</a> =&gt; Open for a problem.  Search by <code>blu</code>, then <code>GDPR</code> will show up.<br>
<a href="https://w3.ibm.com/w3publisher/db2-client-success/how-we-do/support-process/blue-diamond-need-to-know" target="_blank" rel="noopener noreferrer">Sending file to customer</a>       </p><p>DB2 tools related path   <code>/db2_only_data/DB2_TOOLS_LNX/v115m7fp0_linuxamd64_internaltools</code>     </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="commands">commands<a class="hash-link" href="#commands" title="Direct link to heading">​</a></h2><p>Redhat</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum -y install sos</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sosreport -a --batch</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>SuSe</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">supportconfig -Al</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[CRE-General_User-All_Shared-*-*-AIX_p-zipa7101]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[CRE-General_User-All_Shared-*-*-Linux_x-zixr6601]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[CRE-General_User-All_Shared-*-*-Linux_x-zixr7804]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[CRE-General_User-All_Shared-*-*-Windows_x-zixw1601]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[CRE-General_User-All_Shared-*-*-Windows_x-zixw1602]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[CRE-General_User-All_Shared-*-*-Windows_x-zixw1604]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[CRE-General_User-Restricted-Cloud-DB2LUW-AIX_p-zipa7108]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[CRE-General_User-Restricted-Cloud-DB2LUW-Linux_x-zixr6602]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[STD-General_User-All_Shared-*-*-AIX_p-aixbd05]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[STD-General_User-All_Shared-*-*-FTP_Folder-All_Customers]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[STD-General_User-All_Shared-*-*-Linux_x-aaxr0701]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[STD-General_User-All_Shared-*-*-Windows_x-aaxw1605]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[STD-General_User-BU_Shared-C&amp;CS-DB2LUW-Linux_p-bapy7301]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[STD-General_User-Restricted-Cloud-DB2-Tool-DB2ADM1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[STD-General_User-Restricted-Cloud-DB2LUW-AIX_p-zrpa7101]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[STD-General_User-Restricted-Cloud-DB2LUW-AIX_p-zrpa7102]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[STD-General_User-Restricted-Cloud-DB2LUW-Linux_x-zrxr6601]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[STD-General_User-Restricted-Cloud-DB2LUW-Solaris_s-zrsl1101]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[STD-General_User-Restricted-Cloud-DB2LUW-Tool-BDClearCaseUDBUnix]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="accessbility--and-usability">Accessbility  and usability<a class="hash-link" href="#accessbility--and-usability" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="git">Git<a class="hash-link" href="#git" title="Direct link to heading">​</a></h4><ul class="contains-task-list containsTaskList_mC6p"><li class="task-list-item"><input type="checkbox" disabled=""> <code>baxr7801</code> for linuxamd64    =&gt; Error         </li><li class="task-list-item"><input type="checkbox" checked="" disabled=""> <code>bapy7602</code> for ppcle64le        </li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="readers-comments">Reader&#x27;s comments<a class="hash-link" href="#readers-comments" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="replay-timeline">Replay timeline<a class="hash-link" href="#replay-timeline" title="Direct link to heading">​</a></h3><ul><li><p>This series are presented by APD mates by group. ( Rajib, Benny and Kamil)    </p></li><li><p>It seems documents in the <a href="https://github.ibm.com/DB2-APD/Education/tree/master/Perf_Advanced" target="_blank" rel="noopener noreferrer">link</a> will be upddate adding topics continuously.<br>
<!-- -->So, I recommend to check the docs in regular basis.<br>
<!-- -->(Cloning the git repository is also good idea. I am doing that.)</p></li><li><p>Check the table of contents from docs before jumping into replay videos.<br>
<!-- -->That would be the trailer what may be discussed.    </p></li><li><p>You may use the doc as a handbook or adding to your note based on what you leanred newly.    </p></li><li><p>Excercise uses fyre stencil.     </p></li><li><p>Hands-on outputs on this page referred APD Rajib&#x27;s doc in DB2-APD/education github.     </p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="operations">Operations<a class="hash-link" href="#operations" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-on-blue-diamond">git on blue diamond<a class="hash-link" href="#git-on-blue-diamond" title="Direct link to heading">​</a></h3><p>Basically, few systems which runs Db2 development containers.<br>
<a href="https://pages.github.ibm.com/DB2/db2-dev-playbook/support/bd.html?highlight=blue%20diamond" target="_blank" rel="noopener noreferrer">Reference page in playbood</a>    </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ppcle-bapy7602">ppcle <code>bapy7602</code><a class="hash-link" href="#ppcle-bapy7602" title="Direct link to heading">​</a></h4><ul><li>Check if <code>docker</code> group is set.<br>If not, ask <code>BD admin</code> to add.       </li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-sh-4.2$ hostname</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bapy7602</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-sh-4.2$ id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uid=15671(junsule) gid=50384(bdudbcc) groups=50384(bdudbcc),12042(domain users),  12047(urhelbd01),50003(db2adm1),50006(uaixbd05),50216(uzixr6601),50220(uzipa7101  ),50400(uzixr6602),50401(uzrxr6601),50405(uzrpa7101),50406(uzipa7108),50602(usrc  itrixstd),50620(usrcitrixcre),50650(uzrsl1101),50746(ubapy7301),50804(uaaxr0701)  ,50822(uzrpa7102),50846(uzixr7804) context=unconfined_u:unconfined_r:unconfined_  t:s0-s0:c0.c1023</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="session-2-20220303-scenario-2-os-benny"><a href="https://ibm.ent.box.com/file/941459653487?s=bey62x3sl1b8zw6l4z1dl5veb68jy3qb" target="_blank" rel="noopener noreferrer">Session #2. 20220303 #scenario 2 #OS (Benny)</a><a class="hash-link" href="#session-2-20220303-scenario-2-os-benny" title="Direct link to heading">​</a></h3><ul><li>(05:16~ ) Session 1 recap.
To see as MB, <code>vmstat -S M -w 5</code>      </li><li>(16:13 ~ ) Finding process consuming CPU   </li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ps -o pid,user,%mem,command ax | sort -b -k3 -r</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="session-3-20220303-scenario-3-os-benny"><a href="https://ibm.ent.box.com/file/941465225796?s=wu4by98xlanxpef353vp662dt6kwf57r" target="_blank" rel="noopener noreferrer">Session #3. 20220303 scenario 3 #OS (Benny)</a><a class="hash-link" href="#session-3-20220303-scenario-3-os-benny" title="Direct link to heading">​</a></h3><ul><li><a href="#Contents">Go to content</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ap-team-hands-on-note">AP team hands-on note<a class="hash-link" href="#ap-team-hands-on-note" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="situation-1--os">Situation 1 : OS<a class="hash-link" href="#situation-1--os" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="scenario-1-system-is-pagingswapping">Scenario #1 System is Paging/Swapping<a class="hash-link" href="#scenario-1-system-is-pagingswapping" title="Direct link to heading">​</a></h4><blockquote><p>Test system : lumenal1.fyre.ibm.com , UID = root ( Ask password to Jun Su or Guo Dong )</p></blockquote><ul><li><p>Reboot to start from clean status</p></li><li><p>Run vmstat on terminal 1 before starting problem and monitor.       </p></li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># vmstat -w 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">procs -----------------------memory---------------------- ---swap-- -----io---- -system-- --------cpu--------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> r  b         swpd         free         buff        cache   si   so    bi    bo   in   cs  us  sy  id  wa  st</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0            0      6366004         2108      1397888    0    0     0     2  186  156   0   0 100   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0            0      6366004         2108      1397888    0    0     0     0  144  108   0   0 100   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0            0      6366020         2108      1397888    0    0     0     0  146  104   0   0 100   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0            0      6366020         2108      1397888    0    0     0     8  152  103   0   0 100   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0            0      6366020         2108      1397888    0    0     0     0  149  103   0   0 100   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0            0      6366020         2108      1397888    0    0     0     0  152  103   0   0 100   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0            0      6366020         2108      1397888    0    0     0     0  158  112   0   0 100   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0            0      6366020         2108      1397888    0    0     0     0  147  104   0   0 100   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0            0      6366020         2108      1397888    0    0     0     0  149  103   0   0 100   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 6  0            0      4986688         2108      1535772    0    0   184    25  513  305   2   4  94   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1  2      3477248       104068            0       203828   58 349994  1215 350004 35052 5594  11  45   9  36   0    &lt;=== </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 3  5      8852224       104440            0       307580   20 535345   281 535345 62310 7953   8  53   6  33   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 3  6     13828352       103092            0       269812   40 499186   102 499186 63651 10080   7  57   2  34   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 8  3     15826024       103644            0       191624  489 499072  2120 499084 65229 11408   9  63   0  28   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">procs -----------------------memory---------------------- ---swap-- -----io---- -system-- --------cpu--------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> r  b         swpd         free         buff        cache   si   so    bi    bo   in   cs  us  sy  id  wa  st</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 8  1       612740       103000            0       229804  153 175743  2530 175745 25921 6498  11  45  33  11   0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Check which users : cat /etc/passwd   # search for users starting recipe</p></blockquote><ul><li>Switch user </li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@lumenal1 ~]# su - recipe1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Last login: Wed May 25 19:11:36 PDT 2022 on pts/1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">==================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">This recipe1 is simulating a Paging situation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Start by using the command: vmstat -S M -w 5 or vmstat command you like to gauge the situation on the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Refer to the document: AnalyzingAndDebuggingPerfProblems.docx and go over the vmstat column section to understand the output</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">After that check the Red Flags section in the document and see if any of those red flags match what you are seeing here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Try and get the commands you can use from the document to use and then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Try and answer the following questions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1.Which user is using the most memory?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2.How much swap memory is being used?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3.Do you see variation in free memory on the box?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    4.Which process(es) are driving the swap memory usage?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    5.Was the OOM-Killer invoked? How will you find it out? (Hint: Use dmesg)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    6.After you log out, do you still see Swap memory usage? If yes, find out which process(es) is/are still using the swap memory.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Feel free to go back to the reference document and Answer Key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The answer key and reference document is available at:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Box: https://ibm.box.com/s/9fa79a1hdbbyaqdcy8yrfh02b0unia40</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Github: https://github.ibm.com/DB2-APD/Education/tree/master/Perf_Advanced</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">==================================================</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Sense what might be running under the user.   ( <code>prog4</code> ?)</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[recipe1@lumenal1 ~]$ ps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  PID TTY          TIME CMD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">31012 pts/1    00:00:00 bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">31035 pts/1    00:00:00 bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">31316 pts/1    00:00:00 prog4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">31317 pts/1    00:00:00 sleep</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">31334 pts/1    00:00:07 prog4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">31335 pts/1    00:00:07 prog4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">31346 pts/1    00:00:00 ps</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>C Source : pegmem_Linux.c </p></blockquote><ul><li>Sense what is triggered swithcing to this user    </li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">recipe1@lumenal1 ~</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">$ </span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> .bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># .bashrc</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Source global definitions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> -f /etc/bashrc </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">.</span><span class="token plain"> /etc/bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">fi</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">perl /.scripts/print_banner.pl recipe1 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">nohup</span><span class="token plain"> /.scripts/run_prog4 </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> /dev/null </span><span class="token operator file-descriptor important" style="color:#393A34">2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token file-descriptor important">&amp;1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Find out the <code>red flags</code>    </li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ top</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">32270 recipe1   20   0 1335416   1.1g    248 R  56.0 14.2   0:01.68 prog4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">32271 recipe1   20   0 1028216 956548  34860 R  44.7 11.9   0:01.34 prog4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">32273 recipe1   20   0 1028216 969484  47796 R  44.3 12.1   0:01.33 prog4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">32269 recipe1   20   0  925816 838044  18756 R  39.3 10.5   0:01.18 prog4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">32268 recipe1   20   0  925816 788416    252 R  37.7  9.8   0:01.13 prog4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">32272 recipe1   20   0  823416 644828    248 R  31.3  8.1   0:00.94 prog4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">32166 recipe1   20   0  162124   1008    648 R   0.3  0.0   0:00.29 top</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol><li>Which user is using the most memory <code>ps aux</code>    </li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[recipe1@lumenal1 ~]$ ps aux|awk &#x27;{ print $1&quot; &quot;$4; }&#x27;|sort |perl -ne &#x27;chomp($_); @arr=split(/\s+/,$_); $user=$arr[0]; $pct=$arr[1]; $hash{$user} += $pct; END{ foreach $user( sort { $hash{$b} &lt;=&gt; $hash{$a} } keys %hash){ $val = $hash{$user}; printf(&quot;%30s =&gt; %6s\n&quot;, $user, $val); } }&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                       recipe1 =&gt;     90</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                           ntp =&gt;      0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                           rpc =&gt;      0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                       polkitd =&gt;      0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          root =&gt;      0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          USER =&gt;      0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          dbus =&gt;      0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>interested colum %MEM -&gt; split by space.-&gt; save to array -&gt; print by order</p><ol start="2"><li>How much swap memoryt is being used  ?</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[recipe1@lumenal1 ~]$ free -h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              total        used        free      shared  buff/cache   available</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Mem:           7.6G        7.2G        100M        296M        322M         30M</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Swap:           15G         11G        4.1G</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>Do you see variation in free memory on the box ?</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">watch free -h</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>Which processes are driving the swap memory usage ? </li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[recipe1@lumenal1 ~]$ ps aux | head -n 1 ; ps aux | sort -rnk 4|head -n 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">recipe1   1599 35.2 16.7 2666616 1345028 pts/2 R    19:50   0:06 /.scripts/prog4 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">recipe1   1597 37.5 16.3 2564216 1306444 pts/2 R    19:50   0:06 /.scripts/prog4 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">recipe1   1600 35.3 15.7 2666616 1262372 pts/2 R    19:50   0:06 /.scripts/prog4 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">recipe1   1595 37.5 14.8 2769016 1186984 pts/2 R    19:50   0:06 /.scripts/prog4 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">recipe1   1596 36.6 14.1 2564216 1135236 pts/2 R    19:50   0:06 /.scripts/prog4 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">recipe1   1598 35.3 12.8 2257016 1032812 pts/2 R    19:50   0:06 /.scripts/prog4 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rpc        711  0.0  0.0  69256    20 ?        Ss   May18   0:01 /sbin/rpcbind -w</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root       923  0.0  0.0      0     0 ?        S    19:41   0:00 [kworker/3:2]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root       922  0.0  0.0      0     0 ?        S    19:41   0:00 [kworker/u8:1]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[recipe1@lumenal1 ~]$ ps aux --sort -%mem | head -n 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">recipe1   1666 65.4 44.3 4919416 3553764 pts/2 R    19:50   0:07 /.scripts/prog4 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">recipe1   1667 65.9 43.7 4817016 3506916 pts/2 R    19:50   0:07 /.scripts/prog4 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">recipe1   1684  0.0  0.0 155588  1968 pts/2    R+   19:51   0:00 ps aux --sort -%mem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">recipe1    425  0.0  0.0 115544   824 pts/2    S    19:35   0:00 -bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root      1321  0.0  0.0 586424   780 ?        Ssl  May18   1:12 /usr/bin/python2 -Es /usr/sbin/tuned -l -P</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">recipe1   1685  0.0  0.0 108064   680 pts/2    S+   19:51   0:00 head -n 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root         1  0.0  0.0  51764   572 ?        Ss   May18   2:22 /usr/lib/systemd/systemd --switched-root --system --deserialize 22</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root       655  0.0  0.0 1544016  424 ?        Sl   May18   1:52 falcon-sensor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root     30163  0.0  0.0 152704   380 pts/0    S+   18:54   0:01 vmstat -w 10</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[recipe1@lumenal1 ~]$ top -c -b -n 1 -o +%MEM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">top - 19:51:46 up 7 days, 13:26,  2 users,  load average: 4.92, 4.91, 4.54</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Tasks: 161 total,  12 running, 149 sleeping,   0 stopped,   0 zombie</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">%Cpu(s):  5.7 us, 53.7 sy,  0.0 ni,  8.1 id, 27.6 wa,  0.0 hi,  4.9 si,  0.0 st</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">KiB Mem :  8008632 total,   103188 free,  7617788 used,   287656 buff/cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">KiB Swap: 16773116 total,  8004092 free,  8769024 used.    31332 avail Mem </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1768 recipe1   20   0 2257016   1.0g    248 R  20.3 13.7   0:05.04 /.scripts/+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1764 recipe1   20   0 2154616 993652  39084 R  11.9 12.4   0:05.12 /.scripts/+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1765 recipe1   20   0 2052216 957080  79800 R   6.8 12.0   0:04.54 /.scripts/+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1762 recipe1   20   0 2052216 947788  10312 R  10.2 11.8   0:04.51 /.scripts/+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1763 recipe1   20   0 2359416 915048    248 R  11.9 11.4   0:05.26 /.scripts/+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1767 recipe1   20   0 1949816 906052  54660 R   6.8 11.3   0:04.45 /.scripts/+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1766 recipe1   20   0 1949816 814128  24036 R   6.8 10.2   0:04.61 /.scripts/+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1769 recipe1   20   0 1949816 792884  60996 R   5.1  9.9   0:04.48 /.scripts/+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1783 recipe1   20   0  162136   2192   1616 R   0.0  0.0   0:00.08 top -c -b +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1321 root      20   0  586424    812    340 S   0.0  0.0   1:12.61 /usr/bin/p+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  425 recipe1   20   0  115544    768    564 S   0.0  0.0   0:00.27 -bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1 root      20   0   51764    752    520 S   0.0  0.0   2:22.40 /usr/lib/s+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="5"><li>Was the OOM-Killer invoked? How will you find it out?  </li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[recipe1@lumenal1 ~]$ dmesg | grep -i killer </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[650819.810820] prog4 invoked oom-killer: gfp_mask=0x280da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[650825.823637] prog4 invoked oom-killer: gfp_mask=0x280da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[650988.142427] falcon-sensor invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[651141.398440] falcon-sensor invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[651148.567848] falcon-sensor invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[651303.150807] prog4 invoked oom-killer: gfp_mask=0x200da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[651310.151571] prog4 invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[651466.149885] prog4 invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[651628.140960] prog4 invoked oom-killer: gfp_mask=0x200da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[651635.151448] prog4 invoked oom-killer: gfp_mask=0x280da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[651789.962089] prog4 invoked oom-killer: gfp_mask=0x200da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[651796.935745] prog4 invoked oom-killer: gfp_mask=0x280da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[651953.153022] prog4 invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[651960.144949] prog4 invoked oom-killer: gfp_mask=0x280da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[652113.193703] prog4 invoked oom-killer: gfp_mask=0x280da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[652119.625988] prog4 invoked oom-killer: gfp_mask=0x200da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[652272.128827] prog4 invoked oom-killer: gfp_mask=0x200da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[652279.151914] falcon-sensor invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[652597.152401] prog4 invoked oom-killer: gfp_mask=0x200da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[652604.144386] prog4 invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[652758.141355] systemd invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[652765.137828] prog4 invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[653040.190108] pkill invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[653084.143985] prog4 invoked oom-killer: gfp_mask=0x200da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[653244.616146] prog4 invoked oom-killer: gfp_mask=0x200da, order=0, oom_score_adj=0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[recipe1@lumenal1 ~]$ sudo grep -i killer /var/log/messages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:12:16 lumenal1 kernel: prog4 invoked oom-killer: gfp_mask=0x280da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:12:21 lumenal1 kernel: prog4 invoked oom-killer: gfp_mask=0x280da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:15:04 lumenal1 kernel: falcon-sensor invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:17:37 lumenal1 kernel: falcon-sensor invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:17:44 lumenal1 kernel: falcon-sensor invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:20:19 lumenal1 kernel: prog4 invoked oom-killer: gfp_mask=0x200da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:20:26 lumenal1 kernel: prog4 invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:23:02 lumenal1 kernel: prog4 invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:25:44 lumenal1 kernel: prog4 invoked oom-killer: gfp_mask=0x200da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:25:51 lumenal1 kernel: prog4 invoked oom-killer: gfp_mask=0x280da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:28:26 lumenal1 kernel: prog4 invoked oom-killer: gfp_mask=0x200da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:28:33 lumenal1 kernel: prog4 invoked oom-killer: gfp_mask=0x280da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:31:09 lumenal1 kernel: prog4 invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:31:16 lumenal1 kernel: prog4 invoked oom-killer: gfp_mask=0x280da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:33:49 lumenal1 kernel: prog4 invoked oom-killer: gfp_mask=0x280da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:33:55 lumenal1 kernel: prog4 invoked oom-killer: gfp_mask=0x200da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:36:28 lumenal1 kernel: prog4 invoked oom-killer: gfp_mask=0x200da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:36:35 lumenal1 kernel: falcon-sensor invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:41:53 lumenal1 kernel: prog4 invoked oom-killer: gfp_mask=0x200da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:42:00 lumenal1 kernel: prog4 invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:44:34 lumenal1 kernel: systemd invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:44:41 lumenal1 kernel: prog4 invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:49:16 lumenal1 kernel: pkill invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:50:00 lumenal1 kernel: prog4 invoked oom-killer: gfp_mask=0x200da, order=0, oom_score_adj=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 25 19:52:40 lumenal1 kernel: prog4 invoked oom-killer: gfp_mask=0x200da, order=0, oom_score_adj=0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="6"><li>After you log out, do you still see Swap memory usage? If yes, find out which process(es) is/are still using the swap memory  </li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[recipe1@lumenal1 ~]$ exit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logout</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Memory usage decreases.   </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># vmstat -w 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">procs -----------------------memory---------------------- ---swap-- -----io---- -system-- --------cpu--------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> r  b         swpd         free         buff        cache   si   so    bi    bo   in   cs  us  sy  id  wa  st</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 9  9     16218476       103116            0       157124   64 639751   154 639751 61814 9748   9  67   1  23   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0        72868      7599104            0       236804  172 71895  1594 71907 7809 1725   2  22  73   3   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 9  1      2053500       104836            0       422144   82 201048    83 201048 19698 2217  11  35  48   6   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1  7      8332332       102904            0       284520   58 627830    73 627830 75925 8275   9  64   1  26   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1  6     14496940       103460            0       287976   50 613714   140 613716 73324 8295   9  66   0  25   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 4  6     16274848       103024            0        97432  292 480072  2349 480096 66993 12737   8  69   2  21   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0        68044      7798424            0        38668  250 44982  3163 44982 9889 2454   3  25  70   1   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0        67968      7794084            0        42796   16    0    16     1  190  168   0   0 100   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0        67836      7793116            0        43968   13    0   130     0  181  166   0   0 100   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [root@lumenal1 ~]# free -h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              total        used        free      shared  buff/cache   available</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Mem:           7.6G        167M        7.4G        1.9M         42M        7.3G</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Swap:           15G         66M         15G</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Processes using swap space   </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@lumenal1 ~]# egrep &quot;Name|VmSwap&quot; /proc/*/status|awk &#x27;{ if( match($0,&quot;Name:&quot;)){ split($1,arr,&quot;/&quot;,seps); pid=arr[3]; name=$NF;} if(match($0,&quot;VmSwap:&quot;)){ printf(&quot;[%8d] %-30s %10s (kb)\n&quot;, pid, name, $(NF-1)); } }&#x27;|sort -k4nr|head -n 15</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[     655] falcon-sensor                       14524 (kb)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[    1321] tuned                               12932 (kb)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[     714] polkitd                              6624 (kb)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[    1326] rsyslogd                             2548 (kb)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[    1264] dhclient                             2180 (kb)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[    1125] dhclient                             1972 (kb)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[   32718] sshd                                 1304 (kb)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[   30128] sshd                                 1288 (kb)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[    1323] sshd                                 1040 (kb)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[       1] systemd                              1012 (kb)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[     538] systemd-udevd                         788 (kb)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[     720] ntpd                                  636 (kb)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[     708] dbus-daemon                           604 (kb)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[     748] crond                                 580 (kb)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[     734] gssproxy                              516 (kb)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>(homework) Which process is using highest memory ?       </li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="webex-chat-backup">Webex chat backup<a class="hash-link" href="#webex-chat-backup" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">from YUKI TERAI (IBM) to Everyone:    4:23  PM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/proc/*/status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from YUKI TERAI (IBM) to Everyone:    4:25  PM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grep VmSwap /proc/*/status | sort -k 2 -nr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from SEOKHWAN CHOI (IBM) to Everyone:    4:27  PM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">top -b -d 1  | tee -a top_`date +%Y%m%d_%H%M%S`.out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from JUN SU LEE (IBM) to Everyone:    4:30  PM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ps aux|awk &#x27;{ print $1&quot; &quot;$4; }&#x27;|sort |perl -ne &#x27;chomp($_); @arr=split(/\s+/,$_); $user=$arr[0]; $pct=$arr[1]; $hash{$user} += $pct; END{ foreach $user( sort { $hash{$b} &lt;=&gt; $hash{$a} } keys %hash){ $val = $hash{$user}; printf(&quot;%30s =&gt; %6s\n&quot;, $user, $val); } }&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from MASATO SADACHIKA (IBM) to Everyone:    4:31  PM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I sometimes use procinfo -H for checking the memory usage.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from YUKI TERAI (IBM) to Everyone:    4:39  PM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grep VmSwap /proc/*/status | sort -k 2 -nr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from JUN SU LEE (IBM) to Everyone:    4:52  PM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">egrep &quot;Name|VmSwap&quot; /proc/*/status|awk &#x27;{ if( match($0,&quot;Name:&quot;)){ split($1,arr,&quot;/&quot;,seps); pid=arr[3]; name=$NF;} if(match($0,&quot;VmSwap:&quot;)){ printf(&quot;[%8d] %-30s %10s (kb)\n&quot;, pid, name, $(NF-1)); } }&#x27;|sort -k4nr|head -n 15</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from FU FEI XU (IBM) to Everyone:    4:52  PM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf &#x27;Computing swap usage...\n&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">swap_usages=&quot;$(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SUM=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OVERALL=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for DIR in `find /proc/ -maxdepth 1 -type d -regex &quot;^/proc/[0-9]+&quot;`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PID=&quot;$(printf &#x27;%s&#x27; &quot;$DIR&quot; | cut -d / -f 3)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PROGNAME=`ps -p $PID -o comm --no-headers`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for SWAP in `grep VmSwap $DIR/status 2&gt;/dev/null | awk &#x27;{ print $2 }&#x27;`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            let SUM=$SUM+$SWAP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        done</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (( $SUM &gt; 0 )); then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            printf &quot;$SUM KB ($PROGNAME) swapped PID=$PID\\n&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let OVERALL=$OVERALL+$SUM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SUM=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        break</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    done</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    printf &#x27;!!!! Overall swap used: %s KB\n&#x27; &quot;$OVERALL&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf &#x27;%s&#x27; &quot;$swap_usages&quot; | sort -nk1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from JUN SU LEE (IBM) to Everyone:    4:55  PM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Which process is using highest memory ?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from FU FEI XU (IBM) to Everyone:    5:00  PM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vm.swappiness</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">min_free_kbytes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><a href="#Contents">Go to content</a></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="scenario-2-high-user-cpu">Scenario #2 High User CPU<a class="hash-link" href="#scenario-2-high-user-cpu" title="Direct link to heading">​</a></h4><blockquote><p>Test system : lumenal1.fyre.ibm.com , UID = root ( Ask password to Jun Su or Guo Dong )</p></blockquote><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@lumenal1 ~]# su - recipe2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Last login: Thu Feb 24 16:45:12 PST 2022 on pts/0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">==================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">This recipe2 is simulating a High User CPU situation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Start by using the command: vmstat -S M -w 5 or vmstat command you like to gauge the situation on the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Refer to the document: AnalyzingAndDebuggingPerfProblems.docx and go over the vmstat column section to understand the output</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">After that check the Red Flags section in the document and see if any of those red flags match what you are seeing here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Try and get the commands you can use from the document to use and then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Try and answer the following questions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1.How many CPU cores are on the box?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2.What is the difference between a socket, core and thread? How many sockets, cores and threads are on your server?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3.What the Load averages for 1 min, 15 min time period?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    4.Is the problem intermittent?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    5.What process is driving the high CPU usage?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    6.What are the user calls which are driving the CPU usage?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    7.After you logout, does the system go back to normal?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Feel free to go back to the reference document and Answer Key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The answer key and reference document is available at:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Box: https://ibm.box.com/s/9fa79a1hdbbyaqdcy8yrfh02b0unia40</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Github: https://github.ibm.com/DB2-APD/Education/tree/master/Perf_Advanced</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>1.How many CPU cores are on the box?</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[recipe2@lumenal1 ~]$ lscpu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Architecture:          x86_64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CPU op-mode(s):        32-bit, 64-bit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Byte Order:            Little Endian</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CPU(s):                4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">On-line CPU(s) list:   0-3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Thread(s) per core:    1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Core(s) per socket:    1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Socket(s):             4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NUMA node(s):          1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Vendor ID:             GenuineIntel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CPU family:            6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model:                 85</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model name:            Intel Xeon Processor (Skylake, IBRS)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Stepping:              4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CPU MHz:               2400.004</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BogoMIPS:              4800.00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Virtualization:        VT-x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Hypervisor vendor:     KVM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Virtualization type:   full</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">L1d cache:             32K</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">L1i cache:             32K</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">L2 cache:              4096K</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">L3 cache:              16384K</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NUMA node0 CPU(s):     0-3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Flags:                 fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss syscall nx pdpe1gb rdtscp lm constant_tsc rep_good nopl xtopology eagerfpu pni pclmulqdq vmx ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch invpcid_single ssbd ibrs ibpb stibp tpr_shadow vnmi flexpriority ept vpid fsgsbase tsc_adjust bmi1 hle avx2 smep bmi2 erms invpcid rtm avx512f avx512dq rdseed adx smap clflushopt clwb avx512cd avx512bw avx512vl xsaveopt xsavec xgetbv1 arat umip pku ospke md_clear spec_ctrl intel_stibp arch_capabilities</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[recipe2@lumenal1 ~]$ lscpu |grep &quot;^CPU(s)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CPU(s):                4</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[recipe2@lumenal1 ~]$ cat /proc/cpuinfo |grep &quot;processor&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">processor   : 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">processor   : 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">processor   : 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">processor   : 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>2.What is the difference between a socket, core and thread? How many sockets, cores and threads are on your server?     </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@lumenal1 ~]# dmidecode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># dmidecode 3.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Getting SMBIOS data from sysfs.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SMBIOS 2.8 present.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">13 structures occupying 632 bytes.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Table at 0xBFFFFD80.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Handle 0x0000, DMI type 0, 24 bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BIOS Information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Vendor: SeaBIOS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Version: 1.13.0-1ubuntu1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Release Date: 04/01/2014</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Address: 0xE8000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Runtime Size: 96 kB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ROM Size: 64 kB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Characteristics:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        BIOS characteristics not supported</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Targeted content distribution is supported</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BIOS Revision: 0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Handle 0x0100, DMI type 1, 27 bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">System Information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Manufacturer: QEMU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Product Name: Standard PC (i440FX + PIIX, 1996)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Version: pc-i440fx-focal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial Number: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UUID: ca158c60-5fa9-49e6-9f5c-20da15d57e63</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Wake-up Type: Power Switch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SKU Number: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Family: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Handle 0x0300, DMI type 3, 22 bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Chassis Information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Manufacturer: QEMU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Type: Other</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Lock: Not Present</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Version: pc-i440fx-focal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial Number: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Asset Tag: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Boot-up State: Safe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Power Supply State: Safe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Thermal State: Safe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Security Status: Unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OEM Information: 0x00000000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Height: Unspecified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Number Of Power Cords: Unspecified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Contained Elements: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SKU Number: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Handle 0x0400, DMI type 4, 42 bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Processor Information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Socket Designation: CPU 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Type: Central Processor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Family: Other</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Manufacturer: QEMU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ID: 54 06 05 00 FF FB 8B 0F</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Version: pc-i440fx-focal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Voltage: Unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    External Clock: Unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Max Speed: 2000 MHz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Current Speed: 2000 MHz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Status: Populated, Enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Upgrade: Other</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    L1 Cache Handle: Not Provided</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    L2 Cache Handle: Not Provided</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    L3 Cache Handle: Not Provided</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial Number: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Asset Tag: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Part Number: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Core Count: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Core Enabled: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Thread Count: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Characteristics: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Handle 0x0401, DMI type 4, 42 bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Processor Information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Socket Designation: CPU 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Type: Central Processor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Family: Other</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Manufacturer: QEMU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ID: 54 06 05 00 FF FB 8B 0F</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Version: pc-i440fx-focal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Voltage: Unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    External Clock: Unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Max Speed: 2000 MHz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Current Speed: 2000 MHz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Status: Populated, Enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Upgrade: Other</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    L1 Cache Handle: Not Provided</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    L2 Cache Handle: Not Provided</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    L3 Cache Handle: Not Provided</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial Number: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Asset Tag: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Part Number: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Core Count: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Core Enabled: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Thread Count: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Characteristics: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Handle 0x0402, DMI type 4, 42 bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Processor Information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Socket Designation: CPU 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Type: Central Processor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Family: Other</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Manufacturer: QEMU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ID: 54 06 05 00 FF FB 8B 0F</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Version: pc-i440fx-focal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Voltage: Unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    External Clock: Unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Max Speed: 2000 MHz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Current Speed: 2000 MHz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Status: Populated, Enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Upgrade: Other</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    L1 Cache Handle: Not Provided</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    L2 Cache Handle: Not Provided</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    L3 Cache Handle: Not Provided</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial Number: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Asset Tag: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Part Number: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Core Count: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Core Enabled: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Thread Count: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Characteristics: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Handle 0x0403, DMI type 4, 42 bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Processor Information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Socket Designation: CPU 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Type: Central Processor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Family: Other</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Manufacturer: QEMU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ID: 54 06 05 00 FF FB 8B 0F</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Version: pc-i440fx-focal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Voltage: Unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    External Clock: Unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Max Speed: 2000 MHz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Current Speed: 2000 MHz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Status: Populated, Enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Upgrade: Other</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    L1 Cache Handle: Not Provided</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    L2 Cache Handle: Not Provided</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    L3 Cache Handle: Not Provided</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial Number: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Asset Tag: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Part Number: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Core Count: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Core Enabled: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Thread Count: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Characteristics: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Handle 0x1000, DMI type 16, 23 bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Physical Memory Array</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Location: Other</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Use: System Memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Error Correction Type: Multi-bit ECC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Maximum Capacity: 8 GB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Error Information Handle: Not Provided</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Number Of Devices: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Handle 0x1100, DMI type 17, 40 bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Memory Device</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Array Handle: 0x1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Error Information Handle: Not Provided</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Total Width: Unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Data Width: Unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Size: 8192 MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Form Factor: DIMM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Set: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Locator: DIMM 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Bank Locator: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Type: RAM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Type Detail: Other</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Speed: Unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Manufacturer: QEMU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial Number: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Asset Tag: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Part Number: Not Specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Rank: Unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Configured Memory Speed: Unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Minimum Voltage: Unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Maximum Voltage: Unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Configured Voltage: Unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Handle 0x1300, DMI type 19, 31 bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Memory Array Mapped Address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Starting Address: 0x00000000000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ending Address: 0x000BFFFFFFF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Range Size: 3 GB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Physical Array Handle: 0x1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Partition Width: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Handle 0x1301, DMI type 19, 31 bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Memory Array Mapped Address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Starting Address: 0x00100000000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ending Address: 0x0023FFFFFFF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Range Size: 5 GB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Physical Array Handle: 0x1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Partition Width: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Handle 0x2000, DMI type 32, 11 bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">System Boot Information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Status: No errors detected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Handle 0x7F00, DMI type 127, 4 bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">End Of Table</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>3.What the Load averages for 1 min, 15 min time period? </p><p>for the past 1, 5, and 15 minutes.    </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@lumenal1 ~]# uptime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 19:34:28 up 11 days,  1:24,  3 users,  load average: 7.86, 6.52, 3.61</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>Is the problem intermittent?<br>YES </li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[recipe2@lumenal1 ~]$ vmstat -S M -w 5 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">procs -----------------------memory---------------------- ---swap-- -----io---- -system-- --------cpu--------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> r  b         swpd         free         buff        cache   si   so    bi    bo   in   cs  us  sy  id  wa  st</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 7  0           59         7394            0          237    0    0     1     7    9    2   0   0 100   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0     0     0 2068   73  50   0  50   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0     0     0 2060   67  50   0  50   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0     0     1 2067   69  50   0  50   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0     0     0 2056   56  50   0  50   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0     0     4 2060   59  50   0  50   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0     0     0 2057   57  50   0  50   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0     0     0 2074   81  50   0  50   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0    14     0 2075   82  50   0  50   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0     0    27 2147  150  50   0  49   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0     0     0 2085  104  50   0  50   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 6  0           59         7394            0          237    0    0     2     2 2310  141  55   0  45   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 6  0           59         7394            0          237    0    0     0     0 4070  286 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 6  0           59         7394            0          237    0    0     0     0 4072  294 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 6  0           59         7394            0          237    0    0     0     0 4089  293 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 6  0           59         7394            0          237    0    0     3     4 4080  296 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 6  0           59         7394            0          237    0    0     0     0 4086  294 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">21  0           59         7394            0          237    0    0     0     0 4107  322 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20  0           59         7394            0          237    0    0     0     0 4116  429 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20  0           59         7394            0          237    0    0     0     0 4160  439 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">21  0           59         7394            0          237    0    0     0     0 4139  434 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">procs -----------------------memory---------------------- ---swap-- -----io---- -system-- --------cpu--------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> r  b         swpd         free         buff        cache   si   so    bi    bo   in   cs  us  sy  id  wa  st</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">22  0           59         7394            0          237    0    0     0     3 4200  433 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">21  0           59         7394            0          237    0    0     0     0 4148  418 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">21  0           59         7394            0          237    0    0     0     0 4108  415 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">21  0           59         7394            0          237    0    0     0     0 4155  412 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">21  0           59         7394            0          237    0    0     0     0 4125  418 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">21  0           59         7394            0          237    0    0     0     0 4159  414 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">21  0           59         7394            0          237    0    0     0     0 4138  425 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">21  0           59         7394            0          237    0    0     0     0 4135  411 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0           59         7394            0          237    0    0     0     0 3837  413  92   0   8   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0           59         7394            0          237    0    0     0     0   88   71   0   0 100   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0     0     0  250   84   4   0  96   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0     0     0 2064   69  50   0  50   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0     0     0 2071   78  50   0  50   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0     0     0 2071   72  50   0  50   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0     0     0 2067   73  50   0  50   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0     0     0 2069   69  50   0  50   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0     0     0 2082   91  50   0  50   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0     2     0 2181  147  51   0  48   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0     0     4 2075   80  50   0  50   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0     0     0 2084   85  50   0  50   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  0           59         7394            0          237    0    0     0     0 2069   74  50   0  50   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">procs -----------------------memory---------------------- ---swap-- -----io---- -system-- --------cpu--------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> r  b         swpd         free         buff        cache   si   so    bi    bo   in   cs  us  sy  id  wa  st</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 3  0           59         7394            0          237    0    0     0     0 2071   69  50   0  50   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 9  0           59         7386            0          240    0    0   782     0 2412  262  54   1  45   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 6  0           59         7389            0          240    0    0     2     0 4129  304 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 6  0           59         7389            0          240    0    0     0    47 4083  282 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 6  0           59         7389            0          240    0    0     0     0 4089  286 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 8  0           59         7388            0          240    0    0     0     0 4104  311 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 6  0           59         7388            0          240    0    0     0     0 4080  293 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20  0           59         7387            0          240    0    0     0     0 4115  319 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20  0           59         7387            0          240    0    0     0     2 4093  431 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20  0           59         7387            0          240    0    0     0    79 4131  440 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20  0           59         7387            0          240    0    0     0     0 4117  434 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20  0           59         7387            0          240    0    0     0     0 4124  432 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20  0           59         7387            0          240    0    0     0     0 4120  429 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">21  0           59         7387            0          240    0    0     0     0 4101  436 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20  0           59         7387            0          240    0    0     0     0 4083  429 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20  0           59         7387            0          240    0    0     0    14 4120  412 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20  0           59         7387            0          240    0    0     0     0 4101  405 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">21  0           59         7387            0          240    0    0     0     0 4122  406 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20  0           59         7387            0          240    0    0     0     0 4089  403 100   0   0   0   0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>5.What process is driving the high CPU usage?</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@lumenal1 recipe2]# top -c -b -o +%CPU | head -20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">top - 19:39:32 up 11 days,  1:29,  3 users,  load average: 11.00, 9.02, 5.46</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Tasks: 160 total,   1 running, 155 sleeping,   4 stopped,   0 zombie</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">%Cpu(s): 49.3 us,  3.0 sy,  0.0 ni, 47.8 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">KiB Mem :  8008600 total,  7564016 free,   196864 used,   247720 buff/cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">KiB Swap: 16773116 total, 16711956 free,    61160 used.  7576848 avail Mem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">32453 recipe2   20   0   22900    392    312 S 193.8  0.0   0:20.96 /.scripts/+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1 root      20   0   51900   2408   1472 S   0.0  0.0   3:22.06 /usr/lib/s+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2 root      20   0       0      0      0 S   0.0  0.0   0:00.15 [kthreadd]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    4 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 [kworker/0+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@lumenal1 recipe2]# ps aux --sort -%cpu | head -n 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">recipe2  32551  413  0.0 170428   656 pts/1    Sl   19:40   0:28 /.scripts/prog1 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root         1  0.0  0.0  51900  2408 ?        Ss   May28   3:22 /usr/lib/systemd/systemd --switched-root --system --deserialize 22</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root         2  0.0  0.0      0     0 ?        S    May28   0:00 [kthreadd]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root         4  0.0  0.0      0     0 ?        S&lt;   May28   0:00 [kworker/0:0H]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root         6  0.0  0.0      0     0 ?        S    May28   0:00 [ksoftirqd/0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root         7  0.0  0.0      0     0 ?        S    May28   0:00 [migration/0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root         8  0.0  0.0      0     0 ?        S    May28   0:00 [rcu_bh]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root         9  0.0  0.0      0     0 ?        R    May28   3:38 [rcu_sched]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root        10  0.0  0.0      0     0 ?        S&lt;   May28   0:00 [lru-add-drain]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@lumenal1 ~]# ps H -eo user,pid,ppid,tid,time,%cpu,cmd --sort=-%cpu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>$ cat .bashrc
...
( nohup /.scripts/run_prog1 &gt; /dev/null 2&gt;&amp;1 &amp; )
...</p></blockquote><p>6.What are the user calls which are driving the CPU usage?</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@lumenal1 ~]# pstack 16075</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Thread 21 (Thread 0x7f23b5d4b700 (LWP 16077)):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#0  0x0000000000400aa5 in waste_some_cpu ()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#1  0x0000000000400a77 in use_usr_cpu ()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#2  0x00007f23b6121ea5 in start_thread () from /lib64/libpthread.so.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#3  0x00007f23b5e4ab0d in clone () from /lib64/libc.so.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Thread 20 (Thread 0x7f23b554a700 (LWP 16078)):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#0  0x0000000000400a9e in waste_some_cpu ()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#1  0x0000000000400a77 in use_usr_cpu ()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#2  0x00007f23b6121ea5 in start_thread () from /lib64/libpthread.so.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#3  0x00007f23b5e4ab0d in clone () from /lib64/libc.so.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/main/website/docs/linux/linux_perf.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/cloud/docs/linux/linux_misc"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Misc (Linux)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cloud/docs/minikube"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">minikube</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#contents" class="table-of-contents__link toc-highlight">Contents</a></li><li><a href="#resources-and-links" class="table-of-contents__link toc-highlight">Resources and links</a></li><li><a href="#commands" class="table-of-contents__link toc-highlight">commands</a><ul><li><a href="#accessbility--and-usability" class="table-of-contents__link toc-highlight">Accessbility  and usability</a></li></ul></li><li><a href="#readers-comments" class="table-of-contents__link toc-highlight">Reader&#39;s comments</a><ul><li><a href="#replay-timeline" class="table-of-contents__link toc-highlight">Replay timeline</a></li></ul></li><li><a href="#operations" class="table-of-contents__link toc-highlight">Operations</a><ul><li><a href="#git-on-blue-diamond" class="table-of-contents__link toc-highlight">git on blue diamond</a></li><li><a href="#session-2-20220303-scenario-2-os-benny" class="table-of-contents__link toc-highlight">Session #2. 20220303 #scenario 2 #OS (Benny)</a></li><li><a href="#session-3-20220303-scenario-3-os-benny" class="table-of-contents__link toc-highlight">Session #3. 20220303 scenario 3 #OS (Benny)</a></li></ul></li><li><a href="#ap-team-hands-on-note" class="table-of-contents__link toc-highlight">AP team hands-on note</a><ul><li><a href="#situation-1--os" class="table-of-contents__link toc-highlight">Situation 1 : OS</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cloud/docs/intro">Notes</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Jun Su Lee. Built with Docusaurus.</div></div></div></footer></div>
<script src="/cloud/assets/js/runtime~main.20cc33de.js"></script>
<script src="/cloud/assets/js/main.c623a6f8.js"></script>
</body>
</html>